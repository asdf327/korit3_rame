## axios 라이브러리 이용

외부 라이브러리이기 때문에 

과정

1. 터미널에서 npm install axios

2. axios 사용하기 전에 
```tsx
import axios from 'axios'
```
axios 라이브러리에는 데이터의 자동 변환 등의 이점이 있어 

```tsx
axios.get('')
.then(response => console.log(response))
.catch(error => console.log(error))
```

이상의 코드는 fetch를 사용한 .then 구문과 비교할 것

axios 라이브러리에는 메서드를 호풀하는 _전용 메서드_ 가 있다.

예를 들어 요청을 하고, 

```tsx
axios.post('', {newObject}) //존송하고자 하는 객체
.then(response => console.log(response))
.catch(error => console.log(error))
```

혹은 axios() 함수를 이용하는 방법(axios.post()는 메서드. 파이썬에서 배운 것처럼 )

axios 함수 시용 예시

```tsx
const response => axios({
  method: 'POST',
  url: 'https://myapi.com/api/cars',
  headers: {'': ''},
  data: {brand: 'Ford', model: 'Ranger'}
});
```

위의 예시 코드는  https://myapi.com/api/cars 엔드 포인트로 요청을 보낸다. 요청 본문에는 객체가 포함되고, 라이브러리는 자동으로 데이터를 문자열화한다. ()

# OpenWeather API

날씨를 보여주는 리액트 앱을 만든다.
온도 설명 

https://openweathermap.org/

```tsx

import { useState } from 'react'
import './App.css'

function App() {
  const [weather, setWeather] = useState({
    temp: '',
    desc: '',
    icon: ''
  })
  return (
    <>

    </>
  )
}

export default App

```

2. REST API룰 이용하여 

https://api.openweathermap.org/data/2.5/weather?q=Busan&units=Meric&APIkey=내key키

내key키 = 24c9772f88cc9b215a0bc859087c18fd

```jose
{
  "coord": {
    "lon": 129.0403,
    "lat": 35.1028
  },
  "weather": [
    {
      "id": 800,
      "main": "Clear",
      "description": "clear sky",
      "icon": "01d"
    }
  ],
  "base": "stations",
  "main": {
    "temp": 291.14,
    "feels_like": 290.77,
    "temp_min": 291.14,
    "temp_max": 291.14,
    "pressure": 1019,
    "humidity": 68,
    "sea_level": 1019,
    "grnd_level": 1014
  },
  "visibility": 10000,
  "wind": {
    "speed": 0.51,
    "deg": 320
  },
  "clouds": {
    "all": 0
  },
  "dt": 1748221412,
  "sys": {
    "type": 1,
    "id": 8086,
    "country": "KR",
    "sunrise": 1748204013,
    "sunset": 1748255309
  },
  "timezone": 32400,
  "id": 1838524,
  "name": "Busan",
  "cod": 200
}
```

브라우저 상의 응답 데이터를 확인했을 때 를 이용하면 온도를 조회할 수 있고, 과 을 통해서 각각 설명과 어아콘을 조회할 수 있다. 

3. useEffect를 사용하여 useEffect는 상태의 변화에 따라서 랜더링을 할 것인지 하지 않을 것인지 지정할 수 있다.

```tsx
useEffect(() => {}, [])
```

최초 랜더링 시에만 api를 참조하여 어떻게 작성할지 떠올릴 필요가 있다.


```tsx

import { useEffect, useState } from 'react'
import './App.css'

function App() {
  const [weather, setWeather] = useState({
    temp: '',
    desc: '',
    icon: ''
  })

  useEffect(() => {
    fetch('https://api.openweathermap.org/data/2.5/weather?q=Busan&units=Meric&APIkey=24c9772f88cc9b215a0bc859087c18fd')
    .then(response => response.json())
    .then(result => {
      setWeather({
        temp: result.main.temp,
        desc: result.weather[0].description,
        icon: result.weather[0].icon,
      });
    })
    .catch(err => console.log(err));
  }, []); // 최초 랜더링 시에만 api를 가져와서 조회한다는 의미 

  return (
    <>

    </>
  )
}

export default App

```

이상을 작성하고 나서 개발자 도구 상에서 탭을 확인해보시면 객체에 값이 들어가있는 것을 

```tsx

import { useEffect, useState } from 'react'
import './App.css'

function App() {
  const [weather, setWeather] = useState({
    temp: '',
    desc: '',
    icon: ''
  })

  useEffect(() => {
    fetch('https://api.openweathermap.org/data/2.5/weather?q=Busan&units=Meric&APIkey=24c9772f88cc9b215a0bc859087c18fd')
    .then(response => response.json())
    .then(result => {
      setWeather({
        temp: result.main.temp,
        desc: result.weather[0].description,
        icon: result.weather[0].icon,
      });
    })
    .catch(err => console.log(err));
  }, []); // 최초 랜더링 시에만 api를 가져와서 조회한다는 의미 


  if (weather.icon) {
    return (
      <>
        <p>온도 : {weather.temp}</p>
        <p>설명 : {weather.desc}</p>
        <img src={`http://openweathermap.org/img/wn/${weather.icon}@2x.png`} alt="날씨아이콘" 
        />
      </>
    )
  } else {
    return <h1>로딩 중 ...</h1>
  }
}

export default App

```

4. 이상의 코드를 통해 날씨를 구현할 수 있게 되었다. 주의해야할 점은 내에는 데이터만 들어가 있기 때문에 태그를 통해서 불러온다고 하더라도 만 나오게 된다.

이를 조회하는 방법은 http://openweathermap.org/img/wn에서 아이콘을 추가한 뒤에, @2x.png 를 명시해야 한다. 

OpenWeather API를 통해서 을 통한 데이터 가져오기를 학슺

이후에는 라이브러리를 이용하여 외부 API의 정보를 가지고 올 수 있도록할 예정

공톰점과 차이점에 초점을 맞춰 학습하길 바랍니다 

# Github API

키워드 별로 리포지토리를 검색해오는 앱을 만들 예정

웹 요청에서는 라이브러리를 사용할거고, 도 연습

로 를 이용하여 요청을 보내는 예제 코드를 설명

```tsx
import axios from 'axios';

type MyDataType = {
  id : number;
  name: srring;
}

axios.get<MyDataType>(apiUrl)
.then(response => response.json(response))
.catch(err => response.json(err));
```

예상 데이터 타입에 없는 일부 필드에 접근하려면 개발 단꼐 초기에 오류가 발생한다. (여태까지와 다르게 외부 API를 사용하고 각 에 어떤 겂이 들어가 있는지 명확하게 알지 못하는 상황이 이제는 자주 발생하게 된다. ) 이 시점에서 는 로 컴파일 되며 모든 타입 정보가 제거되는데 

1. restgithub 

1. https://api.github.com/search/repositories?q=korit_3

이상의 링크를 들어가서 확인해보면 데이터가 있다.

거기서 배열 내에 있는객체의 속성을 가지고 올 것이다

그리고 도 거지고 와서 클릭했을 때 해당 리포지토리를 확인할 수 있도록 작성할 예정 

그러면 

그때는 .map() 썼을 때 두 번째 이제는 고유겂을 참조할 수 있다, 이번에는 id를 사용할 예정

그리고 이번에는 참조해야할 것이 있는데 useEffect()에서 두 번째 로 []를 쓰는 것이 불가능 


```tsx
import { useEffect, useState } from 'react'
import './App.css'

type Repository = {
  id: number;
  Fuli_name: string;
  html_url: string;
}

function App() {
  const [keyword, setKeyword] = useState('');
  const [repodata, setRepodata] = useState<Repository[]>([]);

  const handleClick = () => {
    // REST APU 호충
  }

  return (
    <>
      <input type='text' value={keyword} onChange={(evwnt) => setKeyword(evwnt.target.value)} />
      <br />
      <br />
      <button onClick={handleClick}>검색</button>
    </>
  )
}

export default App

```

2. handleClick() 함수를 작성할건데 버튼을 클릭했을 때 api를 참조해야한다. 그리고 에서 저장된 를 에 추가해줘야한다. 

요청을 전송하기 위해서 메서드를 사용했고, 로 집어넣었습니다

3. 이제 불러오는 것가지 완료했기때문애 필요한 데이터만 뽑아내서 문에 작성하여 사용자들에게 보여주는 부분이 남았습니다. .map()을 사용하요 상태를 테이블 형태로 변환할 예정입니다. 

# 

동일한 기능을 하는 라이브러리를 이용했을 때 코드 라인이 어떤식으로 적성될 수 있는지 수업

1. 